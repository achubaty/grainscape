<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Produce a minimum planar graph (MPG) at multiple scales — threshold • grainscape</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Produce a minimum planar graph (MPG) at multiple scales — threshold"><meta name="description" content="Perform a scalar analysis of a minimum planar graph (MPG) by building the
graph at a series of link thresholds.
As the threshold value increases more nodes in the graph become connected,
forming increasingly fewer components, until the graph becomes connected (e.g., Brooks, 2003).
N.B. Grains of connectivity (GOC) done by GOC() is also a scalar
analysis using Voronoi tessellations rather than patches (see Galpern et al., 2012)."><meta property="og:description" content="Perform a scalar analysis of a minimum planar graph (MPG) by building the
graph at a series of link thresholds.
As the threshold value increases more nodes in the graph become connected,
forming increasingly fewer components, until the graph becomes connected (e.g., Brooks, 2003).
N.B. Grains of connectivity (GOC) done by GOC() is also a scalar
analysis using Voronoi tessellations rather than patches (see Galpern et al., 2012)."><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-SBRW4YWBD0"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SBRW4YWBD0');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">grainscape</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/grainscape_vignette.html">Modelling, visualization and analysis with the `grainscape` package</a></li>
    <li><a class="dropdown-item" href="../articles/MPG_algorithm.html">Calculating the minimum planar graph and generating Voronoi tessellations</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/achubaty/grainscape/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Produce a minimum planar graph (MPG) at multiple scales</h1>
      <small class="dont-index">Source: <a href="https://github.com/achubaty/grainscape/blob/main/R/threshold.R" class="external-link"><code>R/threshold.R</code></a></small>
      <div class="d-none name"><code>threshold.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Perform a scalar analysis of a minimum planar graph (MPG) by building the
graph at a series of link thresholds.
As the threshold value increases more nodes in the graph become connected,
forming increasingly fewer components, until the graph becomes connected (e.g., Brooks, 2003).
N.B. Grains of connectivity (GOC) done by <code><a href="GOC.html">GOC()</a></code> is also a scalar
analysis using Voronoi tessellations rather than patches (see Galpern <em>et al.</em>, 2012).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">threshold</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'mpg'</span></span>
<span><span class="fu">threshold</span><span class="op">(</span><span class="va">x</span>, weight <span class="op">=</span> <span class="st">"lcpPerimWeight"</span>, nThresh <span class="op">=</span> <span class="cn">NULL</span>, doThresh <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A <code>mpg</code> object produced by <code><a href="MPG.html">MPG()</a></code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments (not used).</p></dd>


<dt id="arg-weight">weight<a class="anchor" aria-label="anchor" href="#arg-weight"></a></dt>
<dd><p>A string giving the link weight or attribute to use for threshold.
<code>"lcpPerimWeight"</code> uses the accumulated resistance or least-cost path
distance from the perimeters of patches as the link weight.</p></dd>


<dt id="arg-nthresh">nThresh<a class="anchor" aria-label="anchor" href="#arg-nthresh"></a></dt>
<dd><p>Optional. An integer giving the number of thresholds (or scales)
at which to create GOC models.
Thresholds are selected to produce a maximum number of unique
grains (i.e., models).
<code>nThresh</code> thresholds are also approximately evenly spread
between 0 and the threshold at which all patches or focal points
on the landscape are connected.
This is a simple way to get a representative subset of all
possible GOC models.
Provide either <code>nThresh</code> or <code>doThresh</code> not both.</p></dd>


<dt id="arg-dothresh">doThresh<a class="anchor" aria-label="anchor" href="#arg-dothresh"></a></dt>
<dd><p>Optional. A vector giving the link thresholds at which to create GOC models.
Use <code>threshold()</code> to identify thresholds of interest.
Provide either <code>nThresh</code> or <code>doThresh</code> not both.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list object with the following elements:</p>
<dl><dt><code>summary</code></dt>
<dd><p>summarizes the thresholded graphs generated and their properties;</p></dd>

<dt><code>th</code></dt>
<dd><p>a list of length <code>nThresh</code> or <code>length(doThresh)</code>
giving the thresholded graph (class <code>igraph</code>) at each threshold.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>See <code><a href="MPG.html">MPG()</a></code> for warning related to areal measurements.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Brooks, C.P. (2003) A scalar analysis of landscape connectivity. Oikos 102:433-439.</p>
<p>Fall, A., M.-J. Fortin, M. Manseau, D. O'Brien. (2007) Spatial graphs:
Principles and applications for habitat connectivity. Ecosystems 10:448:461.</p>
<p>Galpern, P., M. Manseau. (2013a) Finding the functional grain: comparing methods
for scaling resistance surfaces. Landscape Ecology 28:1269-1291.</p>
<p>Galpern, P., M. Manseau. (2013b) Modelling the influence of landscape connectivity
on animal distribution: a functional grain approach. Ecography 36:1004-1016.</p>
<p>Galpern, P., M. Manseau, A. Fall. (2011) Patch-based graphs of landscape connectivity:
a guide to construction, analysis, and application for conservation.
Biological Conservation 144:44-55.</p>
<p>Galpern, P., M. Manseau, P.J. Wilson. (2012) Grains of connectivity: analysis
at multiple spatial scales in landscape genetics. Molecular Ecology 21:3996-4009.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="MPG.html">MPG()</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Paul Galpern and Alex Chubaty</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Load raster landscape</span></span></span>
<span class="r-in"><span><span class="va">tiny</span> <span class="op">&lt;-</span> <span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/raster.html" class="external-link">raster</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/tiny.asc"</span>, package <span class="op">=</span> <span class="st">"grainscape"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Create a resistance surface from a raster using an is-becomes reclassification</span></span></span>
<span class="r-in"><span><span class="va">tinyCost</span> <span class="op">&lt;-</span> <span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/reclassify.html" class="external-link">reclassify</a></span><span class="op">(</span><span class="va">tiny</span>, rcl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">5</span>, <span class="fl">10</span>, <span class="fl">12</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## Produce a patch-based MPG where patches are resistance features=1</span></span></span>
<span class="r-in"><span><span class="va">tinyPatchMPG</span> <span class="op">&lt;-</span> <span class="fu"><a href="MPG.html">MPG</a></span><span class="op">(</span>cost <span class="op">=</span> <span class="va">tinyCost</span>, patch <span class="op">=</span> <span class="va">tinyCost</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## Threshold this graph at a representative subset of 10 thresholds</span></span></span>
<span class="r-in"><span><span class="va">tinyThresh</span> <span class="op">&lt;-</span> <span class="fu">threshold</span><span class="op">(</span><span class="va">tinyPatchMPG</span>, nThresh <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Examine the properties of one of these threshold graphs</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">tinyThresh</span><span class="op">$</span><span class="va">th</span><span class="op">[[</span><span class="fl">7</span><span class="op">]</span><span class="op">]</span>, vertex <span class="op">=</span> <span class="cn">TRUE</span>, edge <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> IGRAPH ac46890 UN-- 43 89 -- </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> + attr: name (v/c), patchId (v/n), patchArea (v/n), patchEdgeArea</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (v/n), coreArea (v/n), centroidX (v/n), centroidY (v/n), linkId</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (e/n), lcpPerimWeight (e/n), startPerimX (e/n), startPerimY (e/n),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | endPerimX (e/n), endPerimY (e/n)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> + edges from ac46890 (vertex names):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 62 --74  30 --41  30 --40  7  --22  5  --7   80 --86  73 --78  29 --31 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] 19 --29  67 --85  41 --48  40 --41  37 --41  8  --28  9  --12  12 --14 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [17] 30 --48  8  --9   48 --54  95 --103 62 --64  5  --22  32 --37  74 --84 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [25] 55 --56  5  --32  9  --28  68 --80  14 --19  30 --54  5  --37  54 --55 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [33] 64 --74  86 --100 100--107 41 --50  56 --76  56 --61  103--105 9  --14 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> + ... omitted several edges</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Paul Galpern, Sam Doctolero, Alex M Chubaty.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

